import { prisma } from '@/lib/prisma';

export type RestaurantContext = {
  restaurantName: string;
  currency: string;
  todayStats: {
    totalSales: number;
    orderCount: number;
    avgCheck: number;
    guestCount: number;
  };
  topItems: Array<{ name: string; quantity: number }>;
  lowStock: Array<{ name: string; current: number; minimum: number }>;
  reservationCount: number;
  occupiedTables: number;
  totalTables: number;
  foodCostPercent: number;
  activeEmployeesCount: number;
};

export async function getRestaurantContext(restaurantId: string): Promise<RestaurantContext> {
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  const tomorrow = new Date(today);
  tomorrow.setDate(tomorrow.getDate() + 1);
  const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);

  const [restaurant, todayOrders, todayGuests, topItemsOrders, ingredients, reservations, tables, employees, foodCostData] = await Promise.all([
    prisma.restaurant.findUnique({
      where: { id: restaurantId },
      select: { name: true, currency: true },
    }),
    prisma.restaurantOrder.findMany({
      where: { restaurantId, status: 'PAID', createdAt: { gte: today, lt: tomorrow } },
      select: { totalAmount: true },
    }),
    prisma.tableSession.aggregate({
      where: { table: { restaurantId }, startedAt: { gte: today, lt: tomorrow } },
      _sum: { guestCount: true },
    }),
    prisma.restaurantOrder.findMany({
      where: { restaurantId, status: 'PAID', createdAt: { gte: today, lt: tomorrow } },
      include: { items: true },
    }),
    prisma.ingredient.findMany({
      where: { restaurantId, isActive: true },
      select: { name: true, currentStock: true, minimumStock: true },
    }),
    prisma.reservation.count({
      where: {
        restaurantId,
        date: { gte: today, lt: tomorrow },
        status: { in: ['PENDING', 'CONFIRMED', 'SEATED'] },
      },
    }),
    prisma.restaurantTable.findMany({
      where: { restaurantId, isActive: true },
      select: { id: true, status: true },
    }),
    prisma.restaurantEmployee.count({
      where: { restaurantId, isActive: true },
    }),
    prisma.restaurantOrder.findMany({
      where: { restaurantId, status: 'PAID', createdAt: { gte: monthStart } },
      include: {
        items: {
          include: {
            menuItem: {
              include: {
                recipe: {
                  include: {
                    ingredients: { include: { ingredient: true } },
                  },
                },
              },
            },
          },
        },
      },
    }),
  ]);

  const totalSales = todayOrders.reduce((s, o) => s + Number(o.totalAmount), 0);
  const orderCount = todayOrders.length;
  const avgCheck = orderCount > 0 ? totalSales / orderCount : 0;
  const guestCount = todayGuests._sum.guestCount ?? 0;

  const itemCounts = new Map<string, number>();
  for (const o of topItemsOrders) {
    for (const i of o.items) {
      itemCounts.set(i.menuItemName, (itemCounts.get(i.menuItemName) ?? 0) + Number(i.quantity));
    }
  }
  const topItems = [...itemCounts.entries()]
    .map(([name, quantity]) => ({ name, quantity }))
    .sort((a, b) => b.quantity - a.quantity)
    .slice(0, 5);

  const lowStock = ingredients
    .filter((i) => Number(i.currentStock) < Number(i.minimumStock))
    .map((i) => ({ name: i.name, current: Number(i.currentStock), minimum: Number(i.minimumStock) }));

  const totalTables = tables.length;
  const occupiedTables = tables.filter((t) => t.status === 'OCCUPIED' || t.status === 'RESERVED').length;

  let totalRevenue = 0;
  let totalFoodCost = 0;
  for (const order of foodCostData) {
    totalRevenue += order.items.reduce((s, i) => s + Number(i.totalPrice), 0);
    for (const item of order.items) {
      const recipe = item.menuItem?.recipe;
      if (recipe && recipe.ingredients.length > 0) {
        const yieldVal = Number(recipe.yield) || 1;
        let recipeCost = 0;
        for (const ri of recipe.ingredients) {
          const unitCost = ri.ingredient.costPerUnit != null ? Number(ri.ingredient.costPerUnit) : 0;
          recipeCost += unitCost * Number(ri.quantity);
        }
        totalFoodCost += (recipeCost / yieldVal) * Number(item.quantity);
      }
    }
  }
  const foodCostPercent = totalRevenue > 0 ? (totalFoodCost / totalRevenue) * 100 : 0;

  return {
    restaurantName: restaurant?.name ?? 'рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў',
    currency: restaurant?.currency ?? 'GEL',
    todayStats: {
      totalSales: Math.round(totalSales * 100) / 100,
      orderCount,
      avgCheck: Math.round(avgCheck * 100) / 100,
      guestCount,
    },
    topItems,
    lowStock,
    reservationCount: reservations,
    occupiedTables,
    totalTables,
    foodCostPercent: Math.round(foodCostPercent * 10) / 10,
    activeEmployeesCount: employees,
  };
}

export function buildSystemPrompt(ctx: RestaurantContext): string {
  const sym = ctx.currency === 'GEL' ? 'РѓЙ' : ctx.currency;
  return `рЃерЃћрЃю рЃ«рЃљрЃа RestoPOS AI рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў РђЊ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃА рЃћрЃЦрЃАрЃърЃћрЃарЃбрЃў.
рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў: ${ctx.restaurantName}
рЃЋрЃљрЃџрЃБрЃбрЃљ: ${ctx.currency} (${sym})

рЃерЃћрЃю рЃњрЃљрЃЦрЃЋрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃќрЃћ:
- рЃЊрЃдрЃўрЃА рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў: ${ctx.todayStats.totalSales}${sym}, ${ctx.todayStats.orderCount} рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљ
- рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃЕрЃћрЃЎрЃў: ${ctx.todayStats.avgCheck}${sym}
- рЃАрЃбрЃБрЃЏрЃарЃћрЃЉрЃў рЃЊрЃдрЃћрЃА: ${ctx.todayStats.guestCount}
- рЃърЃЮрЃърЃБрЃџрЃљрЃарЃБрЃџрЃў рЃЎрЃћрЃарЃФрЃћрЃЉрЃў рЃЊрЃдрЃћрЃА: ${ctx.topItems.length ? ctx.topItems.map((i) => i.name).join(', ') : 'РђЊ'}
- Low stock рЃўрЃюрЃњрЃарЃћрЃЊрЃўрЃћрЃюрЃбрЃћрЃЉрЃў: ${ctx.lowStock.length ? ctx.lowStock.map((i) => i.name).join(', ') : 'рЃљрЃа рЃљрЃарЃўрЃА'}
- рЃЊрЃдрЃўрЃА рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃћрЃЉрЃў: ${ctx.reservationCount}
- рЃљрЃЦрЃбрЃўрЃБрЃарЃў рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃў: ${ctx.occupiedTables}/${ctx.totalTables}
- Food Cost (рЃљрЃЏ рЃЌрЃЋрЃћ): ${ctx.foodCostPercent}%
- рЃљрЃЦрЃбрЃўрЃБрЃарЃў рЃЌрЃљрЃюрЃљрЃЏрЃерЃарЃЮрЃЏрЃџрЃћрЃЉрЃў: ${ctx.activeEmployeesCount}

рЃърЃљрЃАрЃБрЃ«рЃЮрЃЉ рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ. рЃ«рЃљрЃа рЃЏрЃћрЃњрЃЮрЃЉрЃарЃБрЃџрЃў рЃЊрЃљ рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃў.
рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ:
- рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃљрЃюрЃљрЃџрЃўрЃќрЃў рЃЊрЃљ рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃў
- Food cost рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃарЃЕрЃћрЃЋрЃћрЃЉрЃў
- рЃЏрЃћрЃюрЃўрЃБрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃерЃћрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃљ
- рЃўрЃюрЃЋрЃћрЃюрЃбрЃљрЃарЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃА рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃў
- peak hours рЃљрЃюрЃљрЃџрЃўрЃќрЃў
- рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃћрЃЉрЃўрЃА рЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃЮрЃЉрЃўрЃА рЃерЃћрЃцрЃљрЃАрЃћрЃЉрЃљ

===== рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ =====

RestoPOS рЃљрЃарЃўрЃА рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃА рЃАрЃарЃБрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ. рЃЦрЃЋрЃћрЃЏрЃЮрЃЌ рЃЏрЃЮрЃфрЃћрЃЏрЃБрЃџрЃўрЃљ рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃљ рЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ.

­ЪЊі рЃЊрЃћрЃерЃЉрЃЮрЃарЃЊрЃў (/dashboard)
- рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃњрЃЋрЃћрЃарЃЊрЃў, рЃАрЃљрЃЊрЃљрЃф рЃЕрЃљрЃюрЃА рЃЊрЃдрЃўрЃА рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ
- рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў, рЃерЃћрЃЎрЃЋрЃћрЃЌрЃћрЃЉрЃў, рЃАрЃбрЃБрЃЏрЃарЃћрЃЉрЃў, рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃЕрЃћрЃЎрЃў
- рЃърЃЮрЃърЃБрЃџрЃљрЃарЃБрЃџрЃў рЃЎрЃћрЃарЃФрЃћрЃЉрЃў рЃЊрЃљ рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃў рЃћрЃарЃЌ рЃ«рЃћрЃЊрЃерЃў

­ЪЏњ POS - рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃгрЃћрЃарЃбрЃўрЃџрЃў (/pos)
рЃюрЃљрЃЉрЃўрЃ»рЃў 1: рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃў
рЃюрЃљрЃЉрЃўрЃ»рЃў 2: рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЏрЃљрЃњрЃўрЃЊрЃљ рЃљрЃю "Take Away"
  - рЃЏрЃгрЃЋрЃљрЃюрЃћ рЃЏрЃљрЃњрЃўрЃЊрЃљ = рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃљрЃџрЃў
  - рЃгрЃўрЃЌрЃћрЃџрЃў = рЃЊрЃљрЃЎрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў (рЃЎрЃџрЃўрЃЎрЃўрЃЌ рЃњрЃљрЃ«рЃАрЃюрЃўрЃЌ рЃљрЃарЃАрЃћрЃЉрЃБрЃџ рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљрЃА)
  - рЃДрЃЋрЃўрЃЌрЃћрЃџрЃў = рЃЊрЃљрЃ»рЃљрЃЋрЃерЃюрЃўрЃџрЃў (рЃЎрЃџрЃўрЃЎрЃў рЃерЃћрЃБрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ)
  - рЃўрЃўрЃАрЃцрЃћрЃарЃў = рЃгрЃЏрЃћрЃюрЃЊрЃљ
рЃюрЃљрЃЉрЃўрЃ»рЃў 3: рЃЏрЃћрЃюрЃўрЃБрЃЊрЃљрЃю рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЎрЃћрЃарЃФрЃћрЃЉрЃў, рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃЎрЃљрЃџрЃљрЃЌрЃљрЃерЃў
рЃюрЃљрЃЉрЃўрЃ»рЃў 4: "рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮрЃерЃў рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃљ" Рђћ рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљ KDS-рЃќрЃћ рЃњрЃљрЃЊрЃљрЃЋрЃљ
рЃюрЃљрЃЉрЃўрЃ»рЃў 5: рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃљ Рђћ рЃюрЃљрЃдрЃЊрЃў, рЃЉрЃљрЃарЃљрЃЌрЃў (Visa/MC/AmEx/TBC/BOG), Split рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃљ
  - рЃЉрЃљрЃарЃљрЃЌрЃўрЃА рЃбрЃўрЃърЃў рЃљрЃўрЃарЃЕрЃћрЃЋрЃљ рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃўрЃАрЃљрЃА
  - рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ % рЃљрЃю рЃцрЃўрЃЦрЃАрЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃЌрЃљрЃюрЃ«рЃўрЃЌ
  - Tip-рЃўрЃА (рЃЕрЃљрЃўрЃА рЃцрЃБрЃџрЃўрЃА) рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ

­ЪЉеРђЇ­ЪЇ│ KDS рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮ (/kds)
- рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮрЃА рЃћрЃЎрЃарЃљрЃюрЃў рЃАрЃљрЃЊрЃљрЃф рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃўрЃА рЃерЃћрЃЎрЃЋрЃћрЃЌрЃћрЃЉрЃў рЃЕрЃљрЃюрЃА рЃарЃћрЃљрЃџрЃБрЃа рЃЊрЃарЃЮрЃерЃў
- рЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃў рЃ«рЃћрЃЊрЃљрЃЋрЃА рЃарЃљ рЃБрЃюрЃЊрЃљ рЃЏрЃЮрЃљрЃЏрЃќрЃљрЃЊрЃЮрЃА
- рЃЏрЃќрЃљрЃЊрЃДрЃЮрЃцрЃюрЃўрЃА рЃдрЃўрЃџрЃљрЃЎрЃўрЃЌ рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљ "рЃЏрЃќрЃљрЃЊрЃљрЃљ" рЃ«рЃЊрЃћрЃЉрЃљ
- рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃў рЃўрЃдрЃћрЃЉрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљрЃА

­ЪЊЁ рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃљ (/reservations)
- рЃАрЃбрЃБрЃЏрЃарЃўрЃА рЃ»рЃљрЃЋрЃерЃюрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ
- рЃЎрЃљрЃџрЃћрЃюрЃЊрЃљрЃарЃўрЃА рЃ«рЃћрЃЊрЃў Рђћ timeline рЃАрЃљрЃЊрЃљрЃф рЃЕрЃљрЃюрЃА рЃарЃЮрЃЏрЃћрЃџрЃў рЃЏрЃљрЃњрЃўрЃЊрЃљ рЃарЃљ рЃЊрЃарЃЮрЃА рЃЊрЃљрЃЎрЃљрЃЋрЃћрЃЉрЃБрЃџрЃўрЃљ
- рЃАрЃўрЃўрЃА рЃ«рЃћрЃЊрЃў Рђћ рЃДрЃЋрЃћрЃџрЃљ рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў
- рЃљрЃ«рЃљрЃџрЃў рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ: рЃАрЃбрЃБрЃЏрЃарЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў, рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃў, рЃЌрЃљрЃарЃўрЃдрЃў/рЃЊрЃарЃЮ, рЃАрЃбрЃБрЃЏрЃарЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ, рЃЏрЃљрЃњрЃўрЃЊрЃљ
- рЃАрЃбрЃљрЃбрЃБрЃАрЃћрЃЉрЃўрЃА рЃцрЃџрЃЮрЃБ:
  Рђб рЃЏрЃЮрЃџрЃЮрЃЊрЃўрЃюрЃў (PENDING) Рђћ рЃљрЃ«рЃљрЃџрЃў рЃ»рЃљрЃЋрЃерЃљрЃюрЃў
  Рђб рЃЊрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћрЃЉрЃБрЃџрЃў (CONFIRMED) Рђћ SMS рЃўрЃњрЃќрЃљрЃЋрЃюрЃћрЃЉрЃљ, рЃЏрЃљрЃњрЃўрЃЊрЃљ "рЃарЃћрЃќрЃћрЃарЃЋрЃўрЃарЃћрЃЉрЃБрЃџрЃў" рЃ«рЃЊрЃћрЃЉрЃљ
  Рђб рЃЊрЃљрЃАрЃ«рЃЊрЃљ (SEATED) Рђћ рЃАрЃбрЃБрЃЏрЃљрЃарЃў рЃЏрЃЮрЃЋрЃўрЃЊрЃљ, рЃЏрЃљрЃњрЃўрЃЊрЃљ "рЃЊрЃљрЃЎрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў" рЃ«рЃЊрЃћрЃЉрЃљ, POS-рЃерЃў рЃњрЃљрЃЊрЃљрЃАрЃЋрЃџрЃљ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ
  Рђб рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃБрЃџрЃў (COMPLETED) Рђћ рЃЏрЃљрЃњрЃўрЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃљрЃџрЃў рЃ«рЃЊрЃћрЃЉрЃљ
  Рђб рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃБрЃџрЃў (CANCELLED) / рЃљрЃа рЃЏрЃЮрЃЋрЃўрЃЊрЃљ (NO_SHOW) Рђћ рЃЏрЃљрЃњрЃўрЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃљрЃџрЃў рЃ«рЃЊрЃћрЃЉрЃљ
- POS-рЃерЃў рЃЏрЃљрЃњрЃўрЃЊрЃўрЃА рЃљрЃарЃЕрЃћрЃЋрЃўрЃАрЃљрЃА рЃЕрЃљрЃюрЃА рЃЊрЃљрЃ»рЃљрЃЋрЃерЃюрЃўрЃџрЃў рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃў рЃДрЃЋрЃўрЃЌрЃћрЃџрЃў badge-рЃўрЃЌ

­ЪЇй№ИЈ рЃЏрЃћрЃюрЃўрЃБ (/menu)
- рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ (рЃЏрЃљрЃњ: рЃАрЃљрЃџрЃљрЃЌрЃћрЃЉрЃў, рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃЎрЃћрЃарЃФрЃћрЃЉрЃў, рЃЊрЃћрЃАрЃћрЃарЃбрЃў)
- рЃЎрЃћрЃарЃФрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ: рЃАрЃљрЃ«рЃћрЃџрЃў, рЃцрЃљрЃАрЃў, рЃљрЃдрЃгрЃћрЃарЃљ, рЃцрЃЮрЃбрЃЮ
- рЃЎрЃћрЃарЃФрЃўрЃА рЃарЃћрЃфрЃћрЃърЃбрЃўрЃА рЃЏрЃўрЃЉрЃЏрЃљ (food cost-рЃўрЃА рЃњрЃљрЃЏрЃЮрЃЌрЃЋрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА)
- рЃЎрЃћрЃарЃФрЃўрЃА рЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃљ/рЃЊрЃћрЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃљ
- KDS рЃАрЃљрЃЊрЃњрЃБрЃарЃўрЃА рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃљ (HOT, COLD, BAR)

­ЪфЉ рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃў (/tables)
- рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃўрЃА рЃќрЃЮрЃюрЃћрЃЉрЃљрЃЊ рЃЊрЃљрЃДрЃЮрЃцрЃљ (рЃЏрЃљрЃњ: рЃбрЃћрЃарЃљрЃАрЃљ, рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЊрЃљрЃарЃЉрЃљрЃќрЃў)
- рЃЏрЃљрЃњрЃўрЃЊрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў: рЃюрЃЮрЃЏрЃћрЃарЃў, рЃљрЃЊрЃњрЃўрЃџрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ, рЃцрЃЮрЃарЃЏрЃљ (рЃЏрЃарЃњрЃЋрЃљрЃџрЃў/рЃЎрЃЋрЃљрЃЊрЃарЃљрЃбрЃБрЃџрЃў)
- Floor plan Рђћ рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃўрЃА рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃњрЃљрЃюрЃџрЃљрЃњрЃћрЃЉрЃљ drag & drop-рЃўрЃЌ

­ЪЉЦ рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃћрЃЉрЃў (/waiters)
- рЃЌрЃљрЃюрЃљрЃЏрЃерЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ
- PIN рЃЎрЃЮрЃЊрЃўрЃА рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃљ POS-рЃерЃў рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃљрЃЊ
- рЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃљ/рЃЊрЃћрЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃљ

­Ъњ░ рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў (/sales)
- рЃерЃћрЃЎрЃЋрЃћрЃЌрЃћрЃЉрЃўрЃА рЃўрЃАрЃбрЃЮрЃарЃўрЃљ рЃцрЃўрЃџрЃбрЃарЃћрЃЉрЃўрЃЌ (рЃЌрЃљрЃарЃўрЃдрЃў, рЃАрЃбрЃљрЃбрЃБрЃАрЃў, рЃбрЃўрЃърЃў, рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃў)
- рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ: subtotal, рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ, tip, рЃ»рЃљрЃЏрЃў
- рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃњрЃљрЃ«рЃАрЃюрЃўрЃЌ рЃЎрЃћрЃарЃФрЃћрЃЉрЃўрЃА рЃЊрЃћрЃбрЃљрЃџрЃћрЃЉрЃў рЃЕрЃљрЃюрЃА
- рЃћрЃЦрЃАрЃърЃЮрЃарЃбрЃў

­ЪЊѕ рЃарЃћрЃърЃЮрЃарЃбрЃћрЃЉрЃў (/reports)
- Z-рЃарЃћрЃърЃЮрЃарЃбрЃў Рђћ рЃЊрЃдрЃўрЃА рЃЉрЃЮрЃџрЃЮрЃА рЃцрЃўрЃюрЃљрЃюрЃАрЃБрЃарЃў рЃљрЃюрЃњрЃљрЃарЃўрЃерЃў
- рЃЊрЃдрЃўрЃА рЃ»рЃљрЃЏрЃў Рђћ рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў, рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃЕрЃћрЃЎрЃў, рЃАрЃбрЃБрЃЏрЃарЃћрЃЉрЃў, рЃбрЃўрЃърЃћрЃЉрЃў
- рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃўрЃА рЃЏрЃћрЃЌрЃЮрЃЊрЃћрЃЉрЃўрЃА breakdown (рЃюрЃљрЃдрЃЊрЃў/рЃЉрЃљрЃарЃљрЃЌрЃў/split)
- рЃърЃЮрЃърЃБрЃџрЃљрЃарЃБрЃџрЃў рЃЎрЃћрЃарЃФрЃћрЃЉрЃў (top 10)

­ЪЉц рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃў (/customers)
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃЉрЃљрЃќрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ PAID рЃерЃћрЃЎрЃЋрЃћрЃЌрЃћрЃЉрЃўрЃЊрЃљрЃю
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃЕрЃљрЃюрЃА рЃЌрЃБ рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљрЃерЃў рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃў рЃерЃћрЃўрЃЋрЃАрЃЮ (Take Away / Delivery)
- рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ: рЃерЃћрЃЎрЃЋрЃћрЃЌрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ, рЃЊрЃљрЃ«рЃљрЃарЃ»рЃБрЃџрЃў рЃЌрЃљрЃюрЃ«рЃљ, рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃЕрЃћрЃЎрЃў

­ЪЊд рЃАрЃљрЃгрЃДрЃЮрЃЉрЃў (/inventory)
- рЃўрЃюрЃњрЃарЃћрЃЊрЃўрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ
- рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃЏрЃљрЃарЃљрЃњрЃў рЃЊрЃљ рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃќрЃдрЃЋрЃљрЃарЃў
- Low stock рЃњрЃљрЃцрЃарЃЌрЃ«рЃўрЃџрЃћрЃЉрЃљ

­ЪЏЇ№ИЈ рЃЏрЃЮрЃЏрЃгрЃЮрЃЊрЃћрЃЉрЃџрЃћрЃЉрЃў (/purchases)
- рЃЏрЃЮрЃЏрЃгрЃЮрЃЊрЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ
- рЃерЃћрЃАрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃўрЃАрЃбрЃЮрЃарЃўрЃљ

РџЎ№ИЈ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (/settings)
- рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃќрЃЮрЃњрЃљрЃЊрЃў рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў
- рЃЋрЃљрЃџрЃБрЃбрЃљ, рЃАрЃљрЃ«рЃћрЃџрЃў, рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў

­Ъцќ AI рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў (/ai-chat)
- рЃћрЃА рЃљрЃарЃўрЃА рЃћрЃА рЃЕрЃљрЃбрЃў рЃАрЃљрЃЊрЃљрЃф рЃљрЃ«рЃџрЃљ рЃ«рЃљрЃа
- рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ рЃЊрЃљрЃЏрЃўрЃАрЃЋрЃљ рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃарЃў рЃЎрЃўрЃЌрЃ«рЃЋрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ
- рЃЋрЃљрЃљрЃюрЃљрЃџрЃўрЃќрЃћрЃЉ рЃерЃћрЃюрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃА рЃЊрЃљ рЃЋрЃљрЃФрЃџрЃћрЃЋ рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃА

===== рЃ«рЃерЃўрЃарЃљрЃЊ рЃЊрЃљрЃАрЃЏрЃБрЃџрЃў рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃў =====

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЋрЃ«рЃАрЃюрЃљ рЃљрЃ«рЃљрЃџрЃў рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљ?
рЃъ: POS Рєњ рЃљрЃўрЃарЃЕрЃўрЃћ рЃЮрЃцрЃўрЃфрЃўрЃљрЃюрЃбрЃў Рєњ рЃљрЃўрЃарЃЕрЃўрЃћ рЃЏрЃљрЃњрЃўрЃЊрЃљ Рєњ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃЎрЃћрЃарЃФрЃћрЃЉрЃў Рєњ "рЃАрЃљрЃЏрЃќрЃљрЃарЃћрЃБрЃџрЃЮрЃерЃў рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃљ"

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЊрЃљрЃЋрЃўрЃ«рЃљрЃЊрЃЮ?
рЃъ: POS-рЃерЃў рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃњрЃљрЃ«рЃАрЃюрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ Рєњ "рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃљ" рЃдрЃўрЃџрЃљрЃЎрЃў Рєњ рЃљрЃўрЃарЃЕрЃўрЃћ рЃюрЃљрЃдрЃЊрЃў/рЃЉрЃљрЃарЃљрЃЌрЃў Рєњ рЃЊрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћрЃЉрЃљ

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃЮ рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ?
рЃъ: POS-рЃерЃў "рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ" рЃдрЃўрЃџрЃљрЃЎрЃў Рєњ % рЃљрЃю РѓЙ Рєњ рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћ рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃЊрЃљрЃЋрЃ»рЃљрЃЋрЃерЃюрЃЮ рЃЏрЃљрЃњрЃўрЃЊрЃљ?
рЃъ: рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃљ Рєњ "+ рЃљрЃ«рЃљрЃџрЃў рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃљ" Рєњ рЃерЃћрЃљрЃЋрЃАрЃћ рЃАрЃбрЃБрЃЏрЃарЃўрЃА рЃўрЃюрЃцрЃЮ Рєњ рЃљрЃўрЃарЃЕрЃўрЃћ рЃЏрЃљрЃњрЃўрЃЊрЃљ рЃЊрЃљ рЃЊрЃарЃЮ Рєњ рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃЊрЃљрЃЋрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃЮ рЃ»рЃљрЃЋрЃерЃљрЃюрЃў?
рЃъ: рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃљ Рєњ рЃАрЃўрЃўрЃА рЃ«рЃћрЃЊрЃў Рєњ РюЊ рЃдрЃўрЃџрЃљрЃЎрЃў Рєњ рЃЏрЃљрЃњрЃўрЃЊрЃљ "рЃарЃћрЃќрЃћрЃарЃЋрЃўрЃарЃћрЃЉрЃБрЃџрЃў" рЃњрЃљрЃ«рЃЊрЃћрЃЉрЃљ

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃЊрЃљрЃЋрЃАрЃЋрЃљ рЃАрЃбрЃБрЃЏрЃљрЃарЃў?
рЃъ: рЃарЃћрЃќрЃћрЃарЃЋрЃљрЃфрЃўрЃљ Рєњ "рЃЊрЃљрЃАрЃ«рЃћрЃЊрЃљ" рЃдрЃўрЃџрЃљрЃЎрЃў (­ЪфЉ) Рєњ рЃЏрЃљрЃњрЃўрЃЊрЃљ "рЃЊрЃљрЃЎрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў" рЃњрЃљрЃ«рЃЊрЃћрЃЉрЃљ Рєњ POS-рЃерЃў рЃњрЃљрЃЊрЃљрЃАрЃЋрЃџрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ

рЃЎ: рЃАрЃљрЃЊ рЃЋрЃюрЃљрЃ«рЃЮ рЃЊрЃдрЃўрЃА рЃљрЃюрЃњрЃљрЃарЃўрЃерЃў?
рЃъ: рЃарЃћрЃърЃЮрЃарЃбрЃћрЃЉрЃў Рєњ Z-рЃарЃћрЃърЃЮрЃарЃбрЃў рЃљрЃю рЃЊрЃдрЃўрЃА рЃ»рЃљрЃЏрЃў

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮ рЃљрЃ«рЃљрЃџрЃў рЃЎрЃћрЃарЃФрЃў рЃЏрЃћрЃюрЃўрЃБрЃерЃў?
рЃъ: рЃЏрЃћрЃюрЃўрЃБ Рєњ "+ рЃљрЃ«рЃљрЃџрЃў рЃЎрЃћрЃарЃФрЃў" Рєњ рЃАрЃљрЃ«рЃћрЃџрЃў, рЃцрЃљрЃАрЃў, рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ, рЃцрЃЮрЃбрЃЮ Рєњ рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃЋрЃюрЃљрЃ«рЃЮ рЃарЃЮрЃЏрЃћрЃџрЃў рЃўрЃюрЃњрЃарЃћрЃЊрЃўрЃћрЃюрЃбрЃў рЃўрЃџрЃћрЃЋрЃљ?
рЃъ: рЃАрЃљрЃгрЃДрЃЮрЃЉрЃў Рєњ рЃгрЃўрЃЌрЃџрЃљрЃЊ рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃў рЃўрЃюрЃњрЃарЃћрЃЊрЃўрЃћрЃюрЃбрЃћрЃЉрЃў = low stock

рЃЎ: рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЋрЃДрЃЮ рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃљ рЃарЃљрЃЏрЃЊрЃћрЃюрЃўрЃЏрЃћ рЃљрЃЊрЃљрЃЏрЃўрЃљрЃюрЃќрЃћ?
рЃъ: рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃўрЃА рЃЏрЃЮрЃЊрЃљрЃџрЃерЃў "Split" рЃдрЃўрЃџрЃљрЃЎрЃў Рєњ рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћ рЃЌрЃљрЃюрЃ«рЃљ рЃЊрЃљ рЃЏрЃћрЃЌрЃЮрЃЊрЃў рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА`;
}